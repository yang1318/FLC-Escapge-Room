<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>부동산114 스마트 퍼즐 챌린지</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <!-- Intro page with animated doors -->
      <section id="intro-section" class="page active">
        <div class="doors">
          <div class="door left"><span class="handle"></span></div>
          <div class="door right"><span class="handle"></span></div>
        </div>
        <h1 class="intro-title">부동산114 SMART PUZZLE QUEST</h1>
        <p class="intro-subtitle">문을 열고 민지의 꿈의 집을 찾아보세요</p>
        <button id="start-btn" class="primary-btn" type="button">시작하기</button>
        <p class="credit">부동산114 시스템 체험</p>
      </section>

      <!-- Guide page introducing the AI assistant -->
      <section id="guide-section" class="page">
        <div class="content">
          <h2 class="section-title">가이드 소개 – 부동산114 AI 매니저</h2>
          <div class="character-container">
            <img src="ai_avatar.png" alt="AI 매니저" class="character-img" />
            <div class="character-info">
              <div class="tags">
                <span class="tag tag-green">역할: 집 찾기 도우미</span>
                <span class="tag tag-orange">난이도: 중간</span>
                <span class="tag tag-blue">성격: 친절함</span>
              </div>
              <div class="quote-box">
                <p class="quote"><span class="quote-mark">"</span>안녕하세요! 저는 부동산114 AI 매니저입니다.<span class="quote-mark">"</span></p>
                <p class="quote-body">
                  민지가 꿈꾸는 집을 찾을 수 있도록 도와주세요. 각 퍼즐은 실제 부동산114 기능을 기반으로 합니다.
                </p>
              </div>
              <div class="rules-box">
                <h3 class="rules-title">게임 규칙</h3>
                <ul class="rules-list">
                  <li>총 여섯 단계의 퍼즐을 순서대로 진행합니다.</li>
                  <li>각 스테이지는 정보 매칭, 숨은 숫자 찾기, 추리 게임 등으로 구성되어 있습니다.</li>
                  <li>힌트를 잘 활용하여 올바른 해답을 찾아보세요.</li>
                  <li>모든 스테이지를 클리어하면 민지의 집 계약을 완료할 수 있습니다.</li>
                </ul>
              </div>
              <button id="to-stage1" class="primary-btn" type="button">탐험 시작</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage1: Natural language search puzzle -->
      <section id="stage1-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 1. 자연어 검색 해독</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  민지가 발견한 쪽지에는 "햇빛 잘 들어오고, 테라스 있고, 2층 이상"이라고 적혀 있습니다.
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>세 매물 중 조건을 만족하는 매물을 찾아보세요.</li>
                  <li>부동산114 AI 검색은 이러한 자연어 조건을 자동 해석합니다.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div id="listings" class="listings"></div>
              <button id="stage1-next" class="primary-btn hidden" type="button">다음 단계</button>
              <div id="stage1-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage2: VR hidden clue puzzle -->
      <section id="stage2-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 2. VR 속 숨은 단서</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  선택한 매물의 비밀번호 문이 잠겨 있습니다. VR 모델하우스 안에서 단서를 찾으세요.
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>거실 벽 그림 속에 숨겨진 숫자를 찾아 입력하세요.</li>
                  <li>슬라이더를 움직여 밝기를 조절하면 더 잘 보일 수도 있습니다.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div class="vr-container" id="vr-container">
                <img src="living_room.png" alt="VR 모델 하우스" id="vr-image" />
                <span id="hidden-code" class="hidden-code">314</span>
              </div>
              <input type="range" id="stage2-slider" min="0" max="100" value="0" class="slider" />
              <input type="text" id="stage2-input" class="input-field" placeholder="숫자를 입력하세요" />
              <button id="stage2-confirm" class="primary-btn" type="button">확인하기</button>
              <button id="stage2-next" class="primary-btn hidden" type="button">다음 단계</button>
              <div id="stage2-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage3: Price estimation puzzle -->
      <section id="stage3-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 3. 시세 추리 문제</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>매물 가격이 의심스럽습니다. 적정한 시세를 추리해야 거래를 진행할 수 있습니다.</p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>최근 실거래가: 5억, 5.1억, 5.2억, 5.3억</li>
                  <li>현재 호가: 7억</li>
                  <li>합리적인 가격대를 선택해보세요.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div class="price-options" id="price-options">
                <button class="price-option" data-range="low">5억~5.5억</button>
                <button class="price-option" data-range="mid">5.5억~6억</button>
                <button class="price-option" data-range="high">6억~7억</button>
              </div>
              <button id="stage3-next" class="primary-btn hidden" type="button">다음 단계</button>
              <div id="stage3-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage4: Investment value puzzle -->
      <section id="stage4-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 4. 투자 가치 퍼즐</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  민지는 장기적으로 가치 있는 지역을 선택하고자 합니다. 공급과 수요를 고려하여 판단해보세요.
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>지역 A: 공급 3000세대, 수요 1000세대</li>
                  <li>지역 B: 공급 500세대, 수요 1500세대</li>
                  <li>수요 대비 공급이 적은 지역이 더 가치 있을 수 있습니다.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div class="region-options" id="region-options">
                <div class="region-card" data-region="A">
                  <h4>지역 A</h4>
                  <p>공급: 3000세대</p>
                  <p>수요: 1000세대</p>
                </div>
                <div class="region-card" data-region="B">
                  <h4>지역 B</h4>
                  <p>공급: 500세대</p>
                  <p>수요: 1500세대</p>
                </div>
              </div>
              <button id="stage4-next" class="primary-btn hidden" type="button">다음 단계</button>
              <div id="stage4-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage5: Pet friendly puzzle -->
      <section id="stage5-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 5. 반려견 힌트</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  민지의 강아지가 말합니다: "나랑 같이 살 수 있는 집을 찾아줘!"
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>매물 카드에 강아지 아이콘이 붙어 있으면 반려동물 허용입니다.</li>
                  <li>부동산114에서는 필터로 쉽게 찾을 수 있죠.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div class="pet-options" id="pet-options"></div>
              <button id="stage5-next" class="primary-btn hidden" type="button">최종 단계</button>
              <div id="stage5-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Final stage: connect to agent -->
      <section id="final-section" class="page">
        <div class="content">
          <h2 class="section-title">최종 퍼즐 – 계약을 위한 연결</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>모든 열쇠를 모았습니다! 계약을 완료하려면 마지막 관문을 통과하세요.</p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>"중개사 연결" 버튼을 눌러야 탈출할 수 있습니다.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col final-connect">
              <button id="connect-btn" class="primary-btn">중개사 연결</button>
              <div id="final-message" class="mission-message"></div>
              <button id="final-next" class="primary-btn hidden" type="button">결과 보기</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Results page -->
      <section id="results-section" class="page">
        <div class="content">
          <h2 class="section-title">결과</h2>
          <div class="results-container">
            <ul id="results-list" class="results-list"></ul>
          </div>
          <button id="to-summary" class="primary-btn" type="button">종합 결과</button>
        </div>
      </section>

      <!-- Summary page -->
      <section id="summary-section" class="page">
        <div class="content">
          <h2 class="section-title">엔딩 – 하루의 마무리</h2>
          <p id="summary-text"></p>
          <div class="star-rating" id="star-rating">
            <span class="star" data-value="1">☆</span>
            <span class="star" data-value="2">☆</span>
            <span class="star" data-value="3">☆</span>
            <span class="star" data-value="4">☆</span>
            <span class="star" data-value="5">☆</span>
          </div>
          <div class="summary-buttons">
            <button id="restart-btn" class="primary-btn" type="button">다시 하기</button>
            <button id="main-btn" class="secondary-btn" type="button">처음으로</button>
          </div>
        </div>
      </section>
    </div>
    <script src="script.js"></script>
  </body>
</html>