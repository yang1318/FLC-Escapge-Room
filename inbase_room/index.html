<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>inbase 스마트 퍼즐 챌린지</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <!-- Intro page with animated doors -->
      <section id="intro-section" class="page active">
        <div class="doors">
          <div class="door left"><span class="handle"></span></div>
          <div class="door right"><span class="handle"></span></div>
        </div>
        <h1 class="intro-title">inbase SMART PUZZLE QUEST</h1>
        <p class="intro-subtitle">문을 열고 스마트홈 모험을 시작하세요</p>
        <button id="start-btn" class="primary-btn" type="button">시작하기</button>
        <p class="credit">inbase 시스템 체험</p>
      </section>

      <!-- Guide page introducing the AI butler -->
      <section id="guide-section" class="page">
        <div class="content">
          <h2 class="section-title">가이드 소개 – inbase AI 집사</h2>
          <div class="character-container">
            <img src="ai_avatar.png" alt="inbase AI" class="character-img" />
            <div class="character-info">
              <div class="tags">
                <span class="tag tag-green">역할: 스마트홈 집사</span>
                <span class="tag tag-orange">난이도: 어려움</span>
                <span class="tag tag-blue">성격: 세심함</span>
              </div>
              <div class="quote-box">
                <p class="quote">
                  <span class="quote-mark">"</span>환영합니다! 저는 inbase AI 집사입니다.<span class="quote-mark">"</span>
                </p>
                <p class="quote-body">
                  똑똑한 집과 함께 하루를 보내며 보안부터 편의까지 모든 것을 챙겨드릴게요.
                  제시되는 정보를 활용해 퍼즐을 풀어보세요!
                </p>
              </div>
              <div class="rules-box">
                <h3 class="rules-title">게임 규칙</h3>
                <ul class="rules-list">
                  <li>총 여섯 단계의 퍼즐을 순서대로 진행합니다.</li>
                  <li>각 스테이지는 정보 매칭, 순서 맞추기, 미니 게임 등으로 구성되어 있습니다.</li>
                  <li>힌트를 잘 활용하여 올바른 해답을 찾아보세요.</li>
                  <li>모든 스테이지를 클리어하면 inbase 마스터가 될 수 있습니다.</li>
                </ul>
              </div>
              <button id="to-stage1" class="primary-btn" type="button">탐험 시작</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage1: Entrance Security Puzzle -->
      <section id="stage1-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 1. 현관 – 보안 인증</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  현관문이 잠겨 있고, 도어락 화면에 메시지가 나타납니다. 얼굴과 지문 인식이
                  비활성화되어 임시 비밀번호를 찾아야 합니다.
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>집 안 CCTV 영상, 가족 일정표, 에너지 리포트에서 단서를 찾으세요.</li>
                  <li>예: CCTV에 생일 케이크 배달 장면 → 가족 생일이 비밀번호 단서일 수 있습니다.</li>
                  <li>정답 4자리 숫자를 입력하면 문이 열립니다.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div class="hint-icons">
                <div class="hint-icon">
                  <img src="icon_cctv.png" alt="CCTV" />
                  <span>영상 기록</span>
                </div>
                <div class="hint-icon">
                  <img src="icon_calendar.png" alt="일정" />
                  <span>가족 일정</span>
                </div>
                <div class="hint-icon">
                  <img src="icon_report.png" alt="리포트" />
                  <span>에너지 리포트</span>
                </div>
              </div>
              <input type="password" id="stage1-input" class="input-field" maxlength="4" placeholder="비밀번호 (4자리)" />
              <button id="stage1-confirm" class="primary-btn" type="button" disabled>확인하기</button>
              <button id="stage1-next" class="primary-btn hidden" type="button">다음 단계</button>
              <div id="stage1-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage2: Living room lighting puzzle -->
      <section id="stage2-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 2. 거실 – 스마트 조명 문제</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  거실 조명이 모두 꺼져 있습니다. 에너지 절감을 위해 낮은 전력 소비 순서대로 스위치를 눌러야 합니다.
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>각 스위치에는 연결된 기기의 소비 전력이 표시되어 있습니다.</li>
                  <li>전력이 낮은 것부터 높은 것 순서로 눌러야 조명이 켜집니다.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div id="switch-container" class="switches"></div>
              <button id="stage2-reset" class="secondary-btn" type="button">초기화</button>
              <button id="stage2-next" class="primary-btn hidden" type="button">다음 단계</button>
              <div id="stage2-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage3: Kids room safety puzzle -->
      <section id="stage3-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 3. 아이 방 – 안전 확인</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  아이 방에서는 움직임이 감지되지 않았습니다. 영상이 뭉개져 있어 상태를 확인해야 합니다.
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>AI 음성 비서: "아이 책상 위 물건을 잘 보세요."</li>
                  <li>밝기 조절 슬라이더를 이용해 화면을 복원하세요.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div class="pixel-container">
                <img id="kids-image" src="kids_room.png" alt="아이 방" />
              </div>
              <input type="range" id="stage3-slider" min="0" max="100" value="0" class="slider" />
              <button id="stage3-next" class="primary-btn hidden" type="button">다음 단계</button>
              <div id="stage3-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage4: Kitchen gas leak puzzle -->
      <section id="stage4-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 4. 주방 – 가스 누출</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  가스 센서가 울리며 경고음이 발생했습니다. 주방 기기 중 가스를 차단하는 버튼을 찾아 눌러야 합니다.
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>안전 매뉴얼의 아이콘을 떠올려 보세요.</li>
                  <li>가스를 차단하는 밸브 모양을 찾으세요.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div id="kitchen-options" class="kitchen-options"></div>
              <button id="stage4-next" class="primary-btn hidden" type="button">다음 단계</button>
              <div id="stage4-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stage5: Bedroom sleep mode puzzle -->
      <section id="stage5-section" class="page">
        <div class="content">
          <h2 class="section-title">Stage 5. 침실 – 취침 모드 퍼즐</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  취침 모드가 오류로 인해 작동하지 않습니다. 취침 모드를 활성화하기 위해 필요한 조건을 모두 만족시켜야 합니다.
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>현관 잠금, 조명 소등, 보일러 절전 아이콘을 올바른 조합으로 배치하세요.</li>
                  <li>드래그 앤 드롭으로 슬롯에 넣어보세요.</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <div id="sleep-options" class="sleep-options"></div>
              <div id="sleep-slots" class="sleep-slots"></div>
              <button id="stage5-next" class="primary-btn hidden" type="button">다음 단계</button>
              <div id="stage5-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Final stage: AI butler exam -->
      <section id="final-section" class="page">
        <div class="content">
          <h2 class="section-title">Final Stage. AI 집사의 시험</h2>
          <div class="mission-row">
            <div class="mission-col description-col">
              <div class="mission-desc-box">
                <h3>상황</h3>
                <p>
                  AI 집사가 마지막 질문을 던집니다: "당신은 인베이스가 왜 ‘AI 집사’라 불리는지 이해했습니까?"
                </p>
              </div>
              <div class="mission-desc-box hints">
                <h3>힌트</h3>
                <ul>
                  <li>앞선 스테이지에서 본 키워드들을 기억해 보세요.</li>
                  <li>보안, 편의, 안전, 절약, 학습</li>
                </ul>
              </div>
            </div>
            <div class="mission-col interactive-col">
              <input type="text" id="final-input" class="input-field" placeholder="정답을 입력하세요" />
              <button id="final-confirm" class="primary-btn" type="button">제출</button>
              <button id="final-next" class="primary-btn hidden" type="button">결과 보기</button>
              <div id="final-message" class="mission-message"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Results page -->
      <section id="results-section" class="page">
        <div class="content">
          <h2 class="section-title">결과</h2>
          <div class="results-container">
            <ul id="results-list" class="results-list"></ul>
          </div>
          <button id="to-summary" class="primary-btn" type="button">종합 결과</button>
        </div>
      </section>

      <!-- Summary page -->
      <section id="summary-section" class="page">
        <div class="content">
          <h2 class="section-title">하루 마무리 – 종합 리포트</h2>
          <p id="summary-text"></p>
          <div class="star-rating" id="star-rating">
            <span class="star" data-value="1">☆</span>
            <span class="star" data-value="2">☆</span>
            <span class="star" data-value="3">☆</span>
            <span class="star" data-value="4">☆</span>
            <span class="star" data-value="5">☆</span>
          </div>
          <div class="summary-buttons">
            <button id="restart-btn" class="primary-btn" type="button">다시 하기</button>
            <button id="main-btn" class="secondary-btn" type="button">처음으로</button>
          </div>
        </div>
      </section>
    </div>
    <script src="script.js"></script>
  </body>
</html>